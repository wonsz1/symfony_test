{% extends 'base.html.twig' %}

{% block title %}Home - Welcome{% endblock %}

{% block navigation %}
    <h1>My Symfony App</h1>
{% endblock %}

{% block body %}
    <h2>Sample Blog App</h2>
    {% if posts is not empty %}
        <ul class="post-list">
            {% for post in posts %}
                <li style="margin-bottom: 1.5rem;">
                    <a href="{{ path('post_show', {'slug': post.slug}) }}" style="font-size: 1.2rem; font-weight: bold; text-decoration: none;">{{ post.title }}</a>
                    <div style="color: #888; font-size: 0.95rem; margin-bottom: 0.25rem;">
                        Published: {{ post.publishedAt ? post.publishedAt|date('Y-m-d H:i') : 'n/a' }}
                    </div>
                    {% if post.excerpt %}
                        <div>{{ post.excerpt }}</div>
                    {% else %}
                        <div>
                            {{ post.content|length > 50 ? post.content|slice(0, 50) ~ '...' : post.content  }}
                        </div>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No published posts yet.</p>
    {% endif %}
{% endblock %}